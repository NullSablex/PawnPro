{
  "name": "pawnpro",
  "displayName": "PawnPro",
  "description": "%text.description%",
  "version": "1.3.1",
  "publisher": "NullSablex",
  "type": "module",
  "license": "SEE LICENSE IN LICENSE.md",
  "engines": {
    "vscode": "^1.106.0"
  },
  "categories": ["Programming Languages", "Linters"],
  "keywords": ["pawn", "sa-mp", "samp", "gta", "pwn", "server", "rcon"],
  "activationEvents": ["onStartupFinished"],
  "bugs": {
    "url": "https://github.com/NullSablex/PawnPro/issues"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/NullSablex/PawnPro"
  },
  "icon": "images/logo.png",
  "main": "./out/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        { "id": "pawnpro", "title": "PawnPro", "icon": "images/icon.svg" }
      ]
    },
    "views": {
      "explorer": [
        {
          "id": "pawnpro.includesView.explorer",
          "name": "Includes",
          "icon": "symbol-method",
          "when": "!config.pawnpro.ui.separateContainer"
        },
        {
          "id": "pawnpro.serverView.explorer",
          "name": "Servidor",
          "icon": "symbol-method",
          "type": "webview",
          "when": "!config.pawnpro.ui.separateContainer"
        }
      ],
      "pawnpro": [
        {
          "id": "pawnpro.includesView",
          "name": "Includes",
          "icon": "symbol-method",
          "when": "config.pawnpro.ui.separateContainer"
        },
        {
          "id": "pawnpro.serverView",
          "name": "Servidor",
          "icon": "symbol-method",
          "type": "webview",
          "when": "config.pawnpro.ui.separateContainer"
        }
      ]
    },
    "keybindings": [
      {
        "command": "pawnpro.compileCurrent",
        "key": "ctrl+alt+b",
        "when": "editorLangId == pawn && editorTextFocus"
      }
    ],
    "grammars": [
      {
        "language": "pawn",
        "scopeName": "source.pawn",
        "path": "./syntaxes/pawn.tmLanguage.json"
      }
    ],
    "languages": [
      {
        "id": "pawn",
        "aliases": ["PAWN", "pawn"],
        "extensions": [".pwn", ".inc"],
        "configuration": "./language-configuration.json"
      }
    ],
    "commands": [
      {
        "command": "pawnpro.compileCurrent",
        "title": "%command.compile%"
      },
      {
        "command": "pawnpro.detectCompiler",
        "title": "%command.detect%"
      },
      {
        "command": "pawnpro.applySyntaxScheme",
        "title": "PawnPro: Aplicar esquema de sintaxe"
      },
      {
        "command": "pawnpro.resetSyntaxScheme",
        "title": "PawnPro: Restaurar sintaxe (remover esquema PawnPro)"
      },
      {
        "command": "pawnpro.server.start",
        "title": "PawnPro: Start Server",
        "icon": "$(debug-start)"
      },
      {
        "command": "pawnpro.server.stop",
        "title": "PawnPro: Stop Server",
        "icon": "$(debug-stop)"
      },
      {
        "command": "pawnpro.server.restart",
        "title": "PawnPro: Restart Server",
        "icon": "$(debug-restart)"
      },
      {
        "command": "pawnpro.server.show",
        "title": "PawnPro: Show Server Console",
        "icon": "$(terminal)"
      },
      {
        "command": "pawnpro.server.showLog",
        "title": "PawnPro: Show Server Log",
        "icon": "$(output)"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "PawnPro",
      "properties": {
        "pawnpro.ui.separateContainer": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "Quando **ativado**, move as views do PawnPro para um container dedicado na barra lateral (Activity Bar). Quando **desativado**, mantém as views dentro do Explorer."
        },
        "pawnpro.server.path": {
          "type": "string",
          "default": "",
          "markdownDescription": "Caminho do executável do servidor SA-MP (`samp-server.exe` no Windows ou `samp03svr` no Linux). Aceita `${workspaceFolder}`."
        },
        "pawnpro.server.cwd": {
          "type": "string",
          "default": "${workspaceFolder}",
          "markdownDescription": "Diretório de trabalho ao iniciar o servidor. Normalmente a pasta onde estão `server.cfg` e plugins."
        },
        "pawnpro.server.args": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "markdownDescription": "Argumentos passados ao servidor. Ex.: `-c server.cfg` (conforme sua distribuição)."
        },
        "pawnpro.server.clearOnStart": {
          "type": "boolean",
          "default": true,
          "description": "Fecha o terminal anterior do servidor ao iniciar novamente."
        },
        "pawnpro.server.logPath": {
          "type": "string",
          "default": "${workspaceFolder}/server_log.txt",
          "description": "Caminho do arquivo de log do servidor SA:MP a ser seguido em tempo real."
        },
        "pawnpro.server.logEncoding": {
          "type": "string",
          "default": "windows1252",
          "enum": ["windows1252", "utf8"],
          "description": "Codificação usada para decodificar o log."
        },
        "pawnpro.includePaths": {
          "type": "array",
          "default": ["${workspaceFolder}/pawno/include"],
          "items": {
            "type": "string"
          },
          "description": "%config.includePaths%"
        },
        "pawnpro.compiler.autoDetect": {
          "type": "boolean",
          "default": true,
          "description": "%config.autoDetect%"
        },
        "pawnpro.compiler.path": {
          "type": "string",
          "default": "",
          "description": "%config.compilerPath%"
        },
        "pawnpro.compiler.args": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "description": "%config.compilerArgs%"
        },
        "pawnpro.output.encoding": {
          "type": "string",
          "default": "windows1252",
          "enum": ["utf8", "windows1252"],
          "description": "%config.outputEncoding%"
        },
        "pawnpro.build.showCommand": {
          "type": "boolean",
          "default": false,
          "description": "%config.showCommand%"
        },
        "pawnpro.syntax.scheme": {
          "type": "string",
          "default": "none",
          "enum": [
            "auto",
            "classic_white",
            "modern_white",
            "classic_dark",
            "modern_dark",
            "none"
          ]
        },
        "pawnpro.syntax.applyOnStartup": {
          "type": "boolean",
          "default": false,
          "description": "Aplicar automaticamente o esquema de sintaxe selecionado ao abrir o workspace."
        },
        "pawnpro.showIncludePaths": {
          "type": "boolean",
          "default": false,
          "description": "Mostrar caminho do arquivo ao lado do include"
        },
        "pawnpro.server.output.follow": {
          "type": "string",
          "enum": ["visible", "always", "off"],
          "default": "visible",
          "markdownDescription": "Auto-rolagem do canal \"PawnPro Server\". `visible`: segue apenas quando o painel já está visível; `always`: sempre força seguir; `off`: nunca força."
        }
      }
    },
    "menus": {
      "view/title": [
        {
          "command": "pawnpro.server.start",
          "when": "view == pawnpro.serverView && !pawnpro.server.running",
          "group": "navigation"
        },
        {
          "command": "pawnpro.server.stop",
          "when": "view == pawnpro.serverView && pawnpro.server.running",
          "group": "navigation"
        },
        {
          "command": "pawnpro.server.restart",
          "when": "view == pawnpro.serverView && pawnpro.server.running",
          "group": "navigation@1"
        },
        {
          "command": "pawnpro.server.show",
          "when": "view == pawnpro.serverView",
          "group": "navigation@2"
        },
        {
          "command": "pawnpro.server.showLog",
          "when": "view == pawnpro.serverView && pawnpro.server.running",
          "group": "navigation@3"
        },

        {
          "command": "pawnpro.server.start",
          "when": "view == pawnpro.serverView.explorer && !pawnpro.server.running",
          "group": "navigation"
        },
        {
          "command": "pawnpro.server.stop",
          "when": "view == pawnpro.serverView.explorer && pawnpro.server.running",
          "group": "navigation"
        },
        {
          "command": "pawnpro.server.restart",
          "when": "view == pawnpro.serverView.explorer && pawnpro.server.running",
          "group": "navigation@1"
        },
        {
          "command": "pawnpro.server.show",
          "when": "view == pawnpro.serverView.explorer",
          "group": "navigation@2"
        },
        {
          "command": "pawnpro.server.showLog",
          "when": "view == pawnpro.serverView.explorer && pawnpro.server.running",
          "group": "navigation@3"
        }
      ],
      "commandPalette": [
        { "command": "pawnpro.server.start", "when": "true" },
        { "command": "pawnpro.server.stop", "when": "true" },
        { "command": "pawnpro.server.restart", "when": "true" },
        { "command": "pawnpro.server.show", "when": "true" },
        { "command": "pawnpro.server.showLog", "when": "true" }
      ]
    }
  },
  "scripts": {
    "compile": "tsc -p .",
    "build-nls": "npx vscode-nls-dev -l en,pt-br -c ./out \"out/**/*.js\"",
    "vscode:prepublish": "npm run compile && npm run build-nls",
    "watch": "tsc -watch -p .",
    "package": "npm run package:full",
    "package:full": "npx @vscode/vsce package --no-dependencies --no-yarn && node scripts/repack-vsix.js"
  },
  "devDependencies": {
    "@types/node": "^24.10.1",
    "@types/vscode": "^1.106.1",
    "@vscode/vsce": "^3.7.1",
    "jszip": "^3.10.1",
    "typescript": "^5.9.3",
    "vscode-nls-dev": "^4.0.4"
  },
  "dependencies": {
    "vscode-nls": "^5.2.0",
    "iconv-lite": "^0.7.0"
  },
  "packagedDependencies": ["vscode-nls", "iconv-lite", "safer-buffer"],
  "bundledDependencies": ["vscode-nls", "iconv-lite", "safer-buffer"]
}
